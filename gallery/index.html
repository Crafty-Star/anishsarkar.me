---
layout: default
title: Gallery
description: A collection of papercraft, portraits, landscapes, and more
---

<style>
    .catalog-section {
        margin: 2rem 0;
    }
    
    .catalog-title {
        text-transform: capitalize;
        margin: 1.5rem 0;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #ddd;
    }
    
    .albums-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1.5rem;
        padding: 1rem 0;
    }
    
    .album-card {
        position: relative;
        transition: transform 0.3s ease;
        text-decoration: none;
        color: inherit;
        display: block;
    }
    
    .album-card:hover {
        transform: translateY(-5px);
    }
    
    .album-thumbnail {
        width: 100%;
        aspect-ratio: 1;
        object-fit: cover;
        border-radius: 8px;
    }
    
    .album-title {
        margin-top: 0.5rem;
        text-align: center;
        font-size: 1.1rem;
        text-transform: capitalize;
    }
</style>

<div class="container">
    <header class="text-center my-5">
        <h1>{{ page.title }}</h1>
        <p class="lead">{{ page.description }}</p>
    </header>

    {% assign all_files = site.static_files | where_exp: "file", "file.path contains '/gallery/'" %}
    {% assign catalog_paths = "" | split: "" %}
    
    {% for file in all_files %}
        {% assign path_parts = file.path | split: "/" %}
        {% if path_parts.size >= 3 and path_parts[1] == "gallery" %}
            {% assign catalog = path_parts[2] %}
            {% unless catalog_paths contains catalog %}
                {% assign catalog_paths = catalog_paths | push: catalog %}
            {% endunless %}
        {% endif %}
    {% endfor %}

    {% for catalog in catalog_paths %}
        {% unless catalog == "index.html" %}
            <section class="catalog-section">
                <h2 class="catalog-title">{{ catalog | replace: "_", " " }}</h2>
                
                <div class="albums-grid">
                    {% assign album_paths = "" | split: "" %}
                    {% for file in all_files %}
                        {% assign path_parts = file.path | split: "/" %}
                        {% if path_parts.size >= 4 and path_parts[2] == catalog %}
                            {% assign album = path_parts[3] %}
                            {% unless album_paths contains album %}
                                {% assign album_paths = album_paths | push: album %}
                            {% endunless %}
                        {% endif %}
                    {% endfor %}

                    {% for album in album_paths %}
                        {% assign first_image = all_files | where_exp: "file", "file.path contains catalog" | where_exp: "file", "file.path contains album" | where_exp: "file", "file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.png'" | first %}
                        
                        {% if first_image %}
                            <a href="/gallery/{{ catalog }}/{{ album }}" class="album-card">
                                <img src="{{ first_image.path | relative_url }}" alt="{{ album | replace: '_', ' ' }}" class="album-thumbnail">
                                <h3 class="album-title">{{ album | replace: "_", " " }}</h3>
                            </a>
                        {% endif %}
                    {% endfor %}
                </div>
            </section>
        {% endunless %}
    {% endfor %}
</div>

<div style="display: none;">
    <h3>Debug Info:</h3>
    <h4>All Files:</h4>
    <ul>
    {% for file in all_files %}
        <li>{{ file.path }}</li>
    {% endfor %}
    </ul>
    
    <h4>Catalogs Found:</h4>
    <ul>
    {% for catalog in catalog_paths %}
        <li>{{ catalog }}</li>
    {% endfor %}
    </ul>
</div>
